<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="717px" preserveAspectRatio="none" style="width:802px;height:717px;" version="1.1" viewBox="0 0 802 717" width="802px" zoomAndPan="magnify"><defs><filter height="300%" id="f18auk5xqzw691" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f18auk5xqzw691)" height="77.2656" style="stroke: #383838; stroke-width: 1.0;" width="10" x="353.5" y="146.5625"/><rect fill="#FFFFFF" filter="url(#f18auk5xqzw691)" height="314.1641" style="stroke: #383838; stroke-width: 1.0;" width="10" x="353.5" y="284.0938"/><rect fill="#FFFFFF" filter="url(#f18auk5xqzw691)" height="124.5313" style="stroke: #383838; stroke-width: 1.0;" width="10" x="514.5" y="313.2266"/><rect fill="#FFFFFF" filter="url(#f18auk5xqzw691)" height="367.4297" style="stroke: #000000; stroke-width: 2.0;" width="778" x="13" y="245.8281"/><rect fill="#FFFFFF" filter="url(#f18auk5xqzw691)" height="235.8984" style="stroke: #000000; stroke-width: 2.0;" width="758" x="23" y="370.3594"/><rect fill="#FFFFFF" height="43.9375" style="stroke: none; stroke-width: 1.0;" width="758" x="23" y="562.3203"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="50" x2="50" y1="86.2969" y2="630.2578"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="105" x2="105" y1="86.2969" y2="630.2578"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="208" x2="208" y1="86.2969" y2="630.2578"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="358" x2="358" y1="86.2969" y2="630.2578"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="519" x2="519" y1="86.2969" y2="630.2578"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="688" x2="688" y1="449.2734" y2="630.2578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="33" y="82.9951">ERP</text><ellipse cx="50" cy="13" fill="#F8F8F8" filter="url(#f18auk5xqzw691)" rx="8" ry="8" style="stroke: #383838; stroke-width: 2.0;"/><path d="M50,21 L50,48 M37,29 L63,29 M50,48 L37,63 M50,48 L63,63 " fill="none" filter="url(#f18auk5xqzw691)" style="stroke: #383838; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="33" y="642.2529">ERP</text><ellipse cx="50" cy="655.5547" fill="#F8F8F8" filter="url(#f18auk5xqzw691)" rx="8" ry="8" style="stroke: #383838; stroke-width: 2.0;"/><path d="M50,663.5547 L50,690.5547 M37,671.5547 L63,671.5547 M50,690.5547 L37,705.5547 M50,690.5547 L63,705.5547 " fill="none" filter="url(#f18auk5xqzw691)" style="stroke: #383838; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="77" y="82.9951">Factory</text><ellipse cx="105" cy="13" fill="#F8F8F8" filter="url(#f18auk5xqzw691)" rx="8" ry="8" style="stroke: #383838; stroke-width: 2.0;"/><path d="M105,21 L105,48 M92,29 L118,29 M105,48 L92,63 M105,48 L118,63 " fill="none" filter="url(#f18auk5xqzw691)" style="stroke: #383838; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="77" y="642.2529">Factory</text><ellipse cx="105" cy="655.5547" fill="#F8F8F8" filter="url(#f18auk5xqzw691)" rx="8" ry="8" style="stroke: #383838; stroke-width: 2.0;"/><path d="M105,663.5547 L105,690.5547 M92,671.5547 L118,671.5547 M105,690.5547 L92,705.5547 M105,690.5547 L118,705.5547 " fill="none" filter="url(#f18auk5xqzw691)" style="stroke: #383838; stroke-width: 2.0;"/><rect fill="#F8F8F8" filter="url(#f18auk5xqzw691)" height="30.2969" style="stroke: #383838; stroke-width: 1.5;" width="127" x="143" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="150" y="70.9951">CommsManager</text><rect fill="#F8F8F8" filter="url(#f18auk5xqzw691)" height="30.2969" style="stroke: #383838; stroke-width: 1.5;" width="127" x="143" y="629.2578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="150" y="649.2529">CommsManager</text><rect fill="#F8F8F8" filter="url(#f18auk5xqzw691)" height="30.2969" style="stroke: #383838; stroke-width: 1.5;" width="145" x="284" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="131" x="291" y="70.9951">CommandManager</text><rect fill="#F8F8F8" filter="url(#f18auk5xqzw691)" height="30.2969" style="stroke: #383838; stroke-width: 1.5;" width="145" x="284" y="629.2578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="131" x="291" y="649.2529">CommandManager</text><rect fill="#F8F8F8" filter="url(#f18auk5xqzw691)" height="30.2969" style="stroke: #383838; stroke-width: 1.5;" width="149" x="443" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="135" x="450" y="70.9951">:CommandRequest</text><rect fill="#F8F8F8" filter="url(#f18auk5xqzw691)" height="30.2969" style="stroke: #383838; stroke-width: 1.5;" width="149" x="443" y="629.2578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="135" x="450" y="649.2529">:CommandRequest</text><rect fill="#F8F8F8" filter="url(#f18auk5xqzw691)" height="30.2969" style="stroke: #383838; stroke-width: 1.5;" width="161" x="606" y="629.2578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="147" x="613" y="649.2529">:CommandResponse</text><rect fill="#FFFFFF" filter="url(#f18auk5xqzw691)" height="77.2656" style="stroke: #383838; stroke-width: 1.0;" width="10" x="353.5" y="146.5625"/><rect fill="#FFFFFF" filter="url(#f18auk5xqzw691)" height="314.1641" style="stroke: #383838; stroke-width: 1.0;" width="10" x="353.5" y="284.0938"/><rect fill="#FFFFFF" filter="url(#f18auk5xqzw691)" height="124.5313" style="stroke: #383838; stroke-width: 1.0;" width="10" x="514.5" y="313.2266"/><polygon fill="#383838" points="196.5,113.4297,206.5,117.4297,196.5,121.4297,200.5,117.4297" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="50" x2="202.5" y1="117.4297" y2="117.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="57" y="112.3638">request</text><polygon fill="#383838" points="341.5,142.5625,351.5,146.5625,341.5,150.5625,345.5,146.5625" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="208.5" x2="347.5" y1="146.5625" y2="146.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="215.5" y="141.4966">XML request</text><line style="stroke: #383838; stroke-width: 1.0;" x1="363.5" x2="405.5" y1="175.6953" y2="175.6953"/><line style="stroke: #383838; stroke-width: 1.0;" x1="405.5" x2="405.5" y1="175.6953" y2="188.6953"/><line style="stroke: #383838; stroke-width: 1.0;" x1="364.5" x2="405.5" y1="188.6953" y2="188.6953"/><polygon fill="#383838" points="374.5,184.6953,364.5,188.6953,374.5,192.6953,370.5,188.6953" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="370.5" y="170.6294">deserializeRequest</text><line style="stroke: #383838; stroke-width: 1.0;" x1="363.5" x2="405.5" y1="222.8281" y2="222.8281"/><line style="stroke: #383838; stroke-width: 1.0;" x1="405.5" x2="405.5" y1="222.8281" y2="235.8281"/><line style="stroke: #383838; stroke-width: 1.0;" x1="358.5" x2="405.5" y1="235.8281" y2="235.8281"/><polygon fill="#383838" points="368.5,231.8281,358.5,235.8281,368.5,239.8281,364.5,235.8281" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="370.5" y="217.7622">enqueue</text><path d="M13,245.8281 L90,245.8281 L90,252.8281 L80,262.8281 L13,262.8281 L13,245.8281 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="367.4297" style="stroke: #000000; stroke-width: 2.0;" width="778" x="13" y="245.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="28" y="258.895">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="38" x="105" y="258.0386">[loop]</text><polygon fill="#383838" points="341.5,280.0938,351.5,284.0938,341.5,288.0938,345.5,284.0938" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="105" x2="347.5" y1="284.0938" y2="284.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="74" x="112" y="279.0278">pollRequest</text><polygon fill="#383838" points="502.5,309.2266,512.5,313.2266,502.5,317.2266,506.5,313.2266" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="363.5" x2="508.5" y1="313.2266" y2="313.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="370.5" y="308.1606">request</text><line style="stroke: #383838; stroke-width: 1.0;" x1="524.5" x2="566.5" y1="342.3594" y2="342.3594"/><line style="stroke: #383838; stroke-width: 1.0;" x1="566.5" x2="566.5" y1="342.3594" y2="355.3594"/><line style="stroke: #383838; stroke-width: 1.0;" x1="525.5" x2="566.5" y1="355.3594" y2="355.3594"/><polygon fill="#383838" points="535.5,351.3594,525.5,355.3594,535.5,359.3594,531.5,355.3594" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="531.5" y="337.2935">onReceive</text><path d="M23,370.3594 L87,370.3594 L87,377.3594 L77,387.3594 L23,387.3594 L23,370.3594 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="235.8984" style="stroke: #000000; stroke-width: 2.0;" width="758" x="23" y="370.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="38" y="383.4263">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="116" x="102" y="382.5698">[Needs Response]</text><polygon fill="#383838" points="502.5,404.625,512.5,408.625,502.5,412.625,506.5,408.625" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="363.5" x2="508.5" y1="408.625" y2="408.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="83" x="370.5" y="403.5591">getResponse</text><polygon fill="#383838" points="594,433.7578,604,437.7578,594,441.7578,598,437.7578" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="519.5" x2="600" y1="437.7578" y2="437.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="25" x="526.5" y="432.6919">new</text><rect fill="#F8F8F8" filter="url(#f18auk5xqzw691)" height="30.2969" style="stroke: #383838; stroke-width: 1.5;" width="161" x="606" y="416.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="147" x="613" y="436.6201">:CommandResponse</text><line style="stroke: #383838; stroke-width: 1.0;" x1="363.5" x2="405.5" y1="483.0547" y2="483.0547"/><line style="stroke: #383838; stroke-width: 1.0;" x1="405.5" x2="405.5" y1="483.0547" y2="496.0547"/><line style="stroke: #383838; stroke-width: 1.0;" x1="364.5" x2="405.5" y1="496.0547" y2="496.0547"/><polygon fill="#383838" points="374.5,492.0547,364.5,496.0547,374.5,500.0547,370.5,496.0547" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="370.5" y="477.9888">serializeResponse</text><polygon fill="#383838" points="219.5,521.1875,209.5,525.1875,219.5,529.1875,215.5,525.1875" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="213.5" x2="352.5" y1="525.1875" y2="525.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="225.5" y="520.1216">sendResponse</text><polygon fill="#383838" points="61,550.3203,51,554.3203,61,558.3203,57,554.3203" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="55" x2="207.5" y1="554.3203" y2="554.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="67" y="549.2544">response</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="23" x2="781" y1="563.3203" y2="563.3203"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="141" x="28" y="573.5308">[no response needed]</text><polygon fill="#383838" points="116,594.2578,106,598.2578,116,602.2578,112,598.2578" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="110" x2="357.5" y1="598.2578" y2="598.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="69" x="122" y="593.1919">return true</text><!--MD5=[68a5339a35388a4478e918b3cc8bfc26]
@startuml

skinparam linetype ortho
skinparam Monochrome true
skinparam classAttributeIconSize 0


Actor ERP
Actor Factory
ERP ->CommsManager: request
CommsManager ->CommandManager: XML request
activate CommandManager

CommandManager->CommandManager: deserializeRequest

CommandManager->CommandManager: enqueue
deactivate CommandManager

loop loop


Factory->CommandManager: pollRequest
activate CommandManager

CommandManager->":CommandRequest": request
activate ":CommandRequest"

":CommandRequest"->":CommandRequest": onReceive

alt  Needs Response
    CommandManager->":CommandRequest": getResponse

    Create ":CommandResponse"
    ":CommandRequest"->":CommandResponse": new 
    deactivate ":CommandRequest"



    CommandManager->CommandManager: serializeResponse
    CommandManager->CommsManager: sendResponse
    CommsManager ->ERP: response



    else no response needed
        CommandManager->Factory: return true
        deactivate CommandManager

end

end


@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 GMT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.9+11-Ubuntu-0ubuntu1
Operating System: Linux
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>