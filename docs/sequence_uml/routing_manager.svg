<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="649px" preserveAspectRatio="none" style="width:570px;height:649px;" version="1.1" viewBox="0 0 570 649" width="570px" zoomAndPan="magnify"><defs><filter height="300%" id="f10g2ipwq8pv60" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f10g2ipwq8pv60)" height="326.3594" style="stroke: #383838; stroke-width: 1.0;" width="10" x="179" y="117.4297"/><rect fill="#FFFFFF" filter="url(#f10g2ipwq8pv60)" height="71.2656" style="stroke: #383838; stroke-width: 1.0;" width="10" x="179" y="472.9219"/><rect fill="#FFFFFF" filter="url(#f10g2ipwq8pv60)" height="88.3984" style="stroke: #000000; stroke-width: 2.0;" width="395.5" x="108" y="239.8281"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="61" x2="61" y1="86.2969" y2="562.1875"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="184" x2="184" y1="86.2969" y2="562.1875"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="352.5" x2="352.5" y1="86.2969" y2="562.1875"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="459.5" x2="459.5" y1="86.2969" y2="562.1875"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="533.5" x2="533.5" y1="410.0078" y2="562.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="40" y="82.9951">Actor</text><ellipse cx="61" cy="13" fill="#F8F8F8" filter="url(#f10g2ipwq8pv60)" rx="8" ry="8" style="stroke: #383838; stroke-width: 2.0;"/><path d="M61,21 L61,48 M48,29 L74,29 M61,48 L48,63 M61,48 L74,63 " fill="none" filter="url(#f10g2ipwq8pv60)" style="stroke: #383838; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="40" y="574.1826">Actor</text><ellipse cx="61" cy="587.4844" fill="#F8F8F8" filter="url(#f10g2ipwq8pv60)" rx="8" ry="8" style="stroke: #383838; stroke-width: 2.0;"/><path d="M61,595.4844 L61,622.4844 M48,603.4844 L74,603.4844 M61,622.4844 L48,637.4844 M61,622.4844 L74,637.4844 " fill="none" filter="url(#f10g2ipwq8pv60)" style="stroke: #383838; stroke-width: 2.0;"/><rect fill="#F8F8F8" filter="url(#f10g2ipwq8pv60)" height="30.2969" style="stroke: #383838; stroke-width: 1.5;" width="128" x="118" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="125" y="70.9951">RoutingManager</text><rect fill="#F8F8F8" filter="url(#f10g2ipwq8pv60)" height="30.2969" style="stroke: #383838; stroke-width: 1.5;" width="128" x="118" y="561.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="125" y="581.1826">RoutingManager</text><rect fill="#F8F8F8" filter="url(#f10g2ipwq8pv60)" height="30.2969" style="stroke: #383838; stroke-width: 1.5;" width="123" x="289.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="296.5" y="70.9951">RegionManager</text><rect fill="#F8F8F8" filter="url(#f10g2ipwq8pv60)" height="30.2969" style="stroke: #383838; stroke-width: 1.5;" width="123" x="289.5" y="561.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="296.5" y="581.1826">RegionManager</text><rect fill="#F8F8F8" filter="url(#f10g2ipwq8pv60)" height="30.2969" style="stroke: #383838; stroke-width: 1.5;" width="63" x="426.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="433.5" y="70.9951">Region</text><rect fill="#F8F8F8" filter="url(#f10g2ipwq8pv60)" height="30.2969" style="stroke: #383838; stroke-width: 1.5;" width="63" x="426.5" y="561.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="433.5" y="581.1826">Region</text><rect fill="#F8F8F8" filter="url(#f10g2ipwq8pv60)" height="30.2969" style="stroke: #383838; stroke-width: 1.5;" width="56" x="503.5" y="561.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="510.5" y="581.1826">Route</text><rect fill="#FFFFFF" filter="url(#f10g2ipwq8pv60)" height="326.3594" style="stroke: #383838; stroke-width: 1.0;" width="10" x="179" y="117.4297"/><rect fill="#FFFFFF" filter="url(#f10g2ipwq8pv60)" height="71.2656" style="stroke: #383838; stroke-width: 1.0;" width="10" x="179" y="472.9219"/><polygon fill="#383838" points="167,113.4297,177,117.4297,167,121.4297,171,117.4297" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="61" x2="173" y1="117.4297" y2="117.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="68" y="112.3638">makeRoute</text><polygon fill="#383838" points="341,147.5625,351,151.5625,341,155.5625,345,151.5625" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="189" x2="347" y1="151.5625" y2="151.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="196" y="146.4966">getConveyorRegion</text><path d="M8,130.4297 L8,155.4297 L170,155.4297 L170,140.4297 L160,130.4297 L8,130.4297 " fill="#ECECEC" filter="url(#f10g2ipwq8pv60)" style="stroke: #383838; stroke-width: 1.0;"/><path d="M160,130.4297 L160,140.4297 L170,140.4297 L160,130.4297 " fill="#ECECEC" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="14" y="147.4966">origin conveyor region</text><polygon fill="#383838" points="341,186.6953,351,190.6953,341,194.6953,345,190.6953" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="189" x2="347" y1="190.6953" y2="190.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="196" y="185.6294">getConveyorRegion</text><path d="M15,169.5625 L15,194.5625 L170,194.5625 L170,179.5625 L160,169.5625 L15,169.5625 " fill="#ECECEC" filter="url(#f10g2ipwq8pv60)" style="stroke: #383838; stroke-width: 1.0;"/><path d="M160,169.5625 L160,179.5625 L170,179.5625 L160,169.5625 " fill="#ECECEC" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="21" y="186.6294">dest conveyor region</text><polygon fill="#383838" points="341,220.8281,351,224.8281,341,228.8281,345,224.8281" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="189" x2="347" y1="224.8281" y2="224.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="196" y="219.7622">getConnectedRegions</text><path d="M108,239.8281 L185,239.8281 L185,246.8281 L175,256.8281 L108,256.8281 L108,239.8281 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="88.3984" style="stroke: #000000; stroke-width: 2.0;" width="395.5" x="108" y="239.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="123" y="252.895">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="129" x="200" y="252.0386">[connected regions]</text><polygon fill="#383838" points="448,274.0938,458,278.0938,448,282.0938,452,278.0938" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="189" x2="454" y1="278.0938" y2="278.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="196" y="273.0278">getConveyors</text><line style="stroke: #383838; stroke-width: 1.0;" x1="189" x2="231" y1="307.2266" y2="307.2266"/><line style="stroke: #383838; stroke-width: 1.0;" x1="231" x2="231" y1="307.2266" y2="320.2266"/><line style="stroke: #383838; stroke-width: 1.0;" x1="190" x2="231" y1="320.2266" y2="320.2266"/><polygon fill="#383838" points="200,316.2266,190,320.2266,200,324.2266,196,320.2266" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="196" y="302.1606">makeRegionRoutes</text><line style="stroke: #383838; stroke-width: 1.0;" x1="189" x2="231" y1="356.3594" y2="356.3594"/><line style="stroke: #383838; stroke-width: 1.0;" x1="231" x2="231" y1="356.3594" y2="369.3594"/><line style="stroke: #383838; stroke-width: 1.0;" x1="190" x2="231" y1="369.3594" y2="369.3594"/><polygon fill="#383838" points="200,365.3594,190,369.3594,200,373.3594,196,369.3594" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="70" x="196" y="351.2935">traceRoute</text><polygon fill="#383838" points="491.5,394.4922,501.5,398.4922,491.5,402.4922,495.5,398.4922" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="189" x2="497.5" y1="398.4922" y2="398.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="25" x="196" y="393.4263">new</text><rect fill="#F8F8F8" filter="url(#f10g2ipwq8pv60)" height="30.2969" style="stroke: #383838; stroke-width: 1.5;" width="56" x="503.5" y="377.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="510.5" y="397.3545">Route</text><polygon fill="#383838" points="72,439.7891,62,443.7891,72,447.7891,68,443.7891" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="66" x2="183" y1="443.7891" y2="443.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="78" y="438.7231">return route</text><polygon fill="#383838" points="167,468.9219,177,472.9219,167,476.9219,171,472.9219" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="61" x2="173" y1="472.9219" y2="472.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="68" y="467.856">initRoute</text><line style="stroke: #383838; stroke-width: 1.0;" x1="189" x2="231" y1="502.0547" y2="502.0547"/><line style="stroke: #383838; stroke-width: 1.0;" x1="231" x2="231" y1="502.0547" y2="515.0547"/><line style="stroke: #383838; stroke-width: 1.0;" x1="190" x2="231" y1="515.0547" y2="515.0547"/><polygon fill="#383838" points="200,511.0547,190,515.0547,200,519.0547,196,515.0547" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="196" y="496.9888">enqueueRoute</text><polygon fill="#383838" points="72,540.1875,62,544.1875,72,548.1875,68,544.1875" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="66" x2="183" y1="544.1875" y2="544.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="78" y="539.1216">return success</text><!--MD5=[e6b146be0627f8993a7e1a48c116e58b]
@startuml
skinparam linetype ortho
skinparam Monochrome true
skinparam classAttributeIconSize 0

actor Actor as Actor

Actor -> RoutingManager: makeRoute
activate RoutingManager

RoutingManager -> RegionManager: getConveyorRegion
note left: origin conveyor region

RoutingManager -> RegionManager: getConveyorRegion
note left: dest conveyor region

RoutingManager -> RegionManager: getConnectedRegions

loop connected regions
    RoutingManager -> Region: getConveyors
    RoutingManager -> RoutingManager: makeRegionRoutes
end

RoutingManager -> RoutingManager: traceRoute

create Route
RoutingManager -> Route: new

RoutingManager -> Actor: return route

deactivate RoutingManager

Actor -> RoutingManager: initRoute
activate RoutingManager
RoutingManager -> RoutingManager: enqueueRoute
RoutingManager -> Actor: return success
deactivate RoutingManager
@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 GMT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.9+11-Ubuntu-0ubuntu1
Operating System: Linux
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>